## mason

[![Build Status](https://travis-ci.org/metamug/mason.svg?branch=master)](https://travis-ci.org/metamug/mason) 

Mason is the open-source, ultra-lightweight data access layer for API resources generated by [Metamug](https://metamug.com). It handles incoming API requests and routes the parameters to REST resources.

#### How does Mason run APIs ?

- Request Processing
- Routing to REST Resources
- Authentication
- Invoke [Execute](https://metamug.com/docs/code-execution.php) Tag classes.

> In short, APIs generated by Metamug will not work, if there isn't mason jar in the libs folder.

### Mason Jar

[Mason Jar](http://www.hamptonart.com/image/cache/data/2015WEBPHOTOS/PS0927_MasonJar_BL-500x500.jpg)

Clone and package the project with <a href="https://maven.apache.org/download.cgi" target="_blank">mvn</a>

```
mvn clean package
```
After that you can find *mtg-mason-1.0.jar* inside the target folder. You can use this jar as a dependency in your Java webapp.

### Webapp Configuration
You will need to add following line to your jsp for using the *mtg* prefix
```  
<% @taglib uri="mtg-mason.tld" prefix="mtg" %>
```

And also add the following to your *web.xml*
```
<filter>
    <filter-name>RestRouterFilter</filter-name>
    <filter-class>com.metamug.api.filters.RestRouterFilter</filter-class>
</filter>
```

These steps are generated by metamug in the webapp. You can verify that under the hood by inspecting contents of the war file.
